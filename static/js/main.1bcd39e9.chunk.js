(this["webpackJsonpnft-react"]=this["webpackJsonpnft-react"]||[]).push([[0],{1118:function(t,n){},1152:function(t,n){},1241:function(t,n){},1242:function(t,n){},1267:function(t,n){},1274:function(t,n){},1395:function(t,n){},1418:function(t,n){},1799:function(t,n){},1914:function(t,n){},1916:function(t,n){},1942:function(t,n){},1972:function(t,n){},2051:function(t,n){},2053:function(t,n){},2074:function(t,n){},2099:function(t,n){},2119:function(t,n,e){"use strict";e.r(n);var o=e(223),r=e.n(o),c=e(793),a=e.n(c),i=(e(824),e.p+"static/media/logo.6ce24c58.svg"),s=(e(825),e(9)),u=e(0),l=e.n(u),d=e(504),p=e(794),f=e(802),h=e(507),b=e(28),m=e(321),g=e(317),v=e.n(g);window.addEventListener("message",(function(t){"capturePort"===t.data&&null!=t.ports[0]&&(console.log("Port set"),window.dartCommunicationPort=t.ports[0],window.dartCommunicationPort.onmessage=function(t){console.log("Message from dart side ".concat(t.data))})}),!1);var w=function(){var t=Object(s.a)(l.a.mark((function t(n){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(f.mapEthereumWallet)(new p.WalletConnectConnectionProvider({bridge:"https://bridge.walletconnect.org",clientMeta:{description:"WalletConnect NodeJS Client",url:"https://nodejs.org/en/",icons:["https://nodejs.org/static/images/logo.svg"],name:"WalletConnect"},rpc:{1:"https://mainnet-nethermind.blockscout.com/",3:"https://node-ropsten.rarible.com",4:"https://node-rinkeby.rarible.com",137:"https://matic-mainnet.chainstacklabs.com"},chainId:1,qrcode:!0,qrcodeModal:{open:function(t,e,o){return Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(JSON.stringify({type:"LAUNCH",message:t})),console.log(t);case 2:case"end":return e.stop()}}),e)})))()},close:function(){return Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("closed method was called "),t.abrupt("return","darova");case 2:case"end":return t.stop()}}),t)})))()}},qrcodeModalOptions:{mobileLinks:["metamask","trust"]},signingMethods:["eth_signTypedData_v4","eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign"]})),t.abrupt("return",d.Connector.create(e));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=function(){var t=Object(s.a)(l.a.mark((function t(){var n,e,o=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:function(){console.log("connectWallet default console log")},t.next=3,w(n);case 3:return(e=t.sent).connection.subscribe(function(){var t=Object(s.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("connection: "+e.status),"connected"===e.status&&n(JSON.stringify({type:"CONNECTED",message:null}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=7,x(e);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(s.a)(l.a.mark((function t(){var n,e,o,r,c,a,i=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:"",e=i.length>1&&void 0!==i[1]?i[1]:"Default name",o=i.length>2&&void 0!==i[2]?i[2]:"Default description",r=i.length>3&&void 0!==i[3]?i[3]:"1",c=i.length>4&&void 0!==i[4]?i[4]:function(){console.log("mintAndSell default console log")},t.next=7,w(c);case 7:return(a=t.sent).connection.subscribe(function(){var t=Object(s.a)(l.a.mark((function t(a){var i,s,u,d,p,f;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("connection: "+a.status),"connected"!==a.status){t.next=25;break}return console.log("mint and sell logic started"),i="ETHEREUM:0xc9154424B823b10579895cCBE442d41b9Abd96Ed",s=Object(h.createRaribleSdk)(a.connection.wallet,"prod"),t.next=7,s.nft.generateTokenId({collection:Object(b.toContractAddress)(i),minter:Object(m.toUnionAddress)("ETHEREUM:".concat(a.connection.address))});case 7:return u=t.sent,console.log(u),d={collectionId:Object(b.toContractAddress)(i),tokenId:u},t.next=12,s.nft.mintAndSell(d);case 12:return p=t.sent,t.next=15,y(n,null===u||void 0===u?void 0:u.tokenId,e,o);case 15:return f=t.sent,c(JSON.stringify({type:"LOADED_TO_IPFS",message:null})),c(JSON.stringify({type:"LAUNCH",message:null})),console.log(f),console.log("the price is ".concat(parseFloat(r))),t.next=22,p.submit({uri:f,supply:1,lazyMint:!0,price:parseFloat(r),creators:[{account:Object(m.toUnionAddress)("ETHEREUM:".concat(a.connection.address)),value:1e4}],royalties:[{account:Object(m.toUnionAddress)("ETHEREUM:".concat(a.connection.address)),value:1e3}],currency:{"@type":"ETH"}});case 22:c(JSON.stringify({type:"RESULT",message:{link:"https://rarible.com/token/0xc9154424B823b10579895cCBE442d41b9Abd96Ed:".concat(null===u||void 0===u?void 0:u.tokenId)}})),console.log("EVERYTHING COMPLETED"),c(JSON.stringify({type:"MINTED_AND_PUT_ON_SALE",message:null}));case 25:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),t.next=11,x(a);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var t=Object(s.a)(l.a.mark((function t(n){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getOptions();case 2:return e=t.sent[0],console.log(e),t.next=6,n.connect(e);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),y=function(){var t=Object(s.a)(l.a.mark((function t(n,e,o,r){var c,a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={name:o,description:r,image:n,external_url:"https://rarible.com/token/0xc9154424B823b10579895cCBE442d41b9Abd96Ed:".concat(e),attributes:[]},a=new FormData,"test.json",a.append("file",new Blob([JSON.stringify(c)],{type:"text/json"}),"test.json"),t.next=6,v()({method:"post",url:"https://pinata.rarible.com/upload",data:a,headers:{"Content-Type":"multipart/form-data"}});case 6:return i=t.sent,console.log("ended json upload to ipfs "),t.abrupt("return","ipfs://ipfs/".concat(i.data.IpfsHash));case 9:case"end":return t.stop()}}),t)})));return function(n,e,o,r){return t.apply(this,arguments)}}();window.mintAndSell=O,window.connectWallet=j,window.disconnectWallet=function(t){localStorage.setItem("walletconnect",""),t(JSON.stringify({type:"DISCONNECTED",message:null}))},window.onerror=function(t,n,e){return console.log(t,n,e),function(t){var n,e;null===(n=window)||void 0===n||null===(e=n.dartCommunicationPort)||void 0===e||e.postMessage(t)}(JSON.stringify({type:"ERROR",message:null})),!1};var E={mintAndSell:O},k=e(2),C=e(3),T=e(4),N=e(5),S=e(96),A=function(t){Object(T.a)(e,t);var n=Object(N.a)(e);function e(t){var o,r;return Object(k.a)(this,e),(r=n.call(this,t)).timerID=void 0,r.state={web3:window.web3,ethereum:window.ethereum,web3Provider:null===(o=window.web3)||void 0===o?void 0:o.currentProvider},r.timerID=setInterval((function(){return r.tick()}),1e3),r}return Object(C.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){var t;this.setState({web3:window.web3,ethereum:window.ethereum,web3Provider:null===(t=window.web3)||void 0===t?void 0:t.currentProvider})}},{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsxs)("h3",{children:["Web3 exists: ",this.state.web3?"true":"false"]}),Object(S.jsxs)("h3",{children:["Ethereum exists: ",this.state.ethereum?"true":"false"]}),Object(S.jsxs)("h3",{children:["Web3 provider exists : ",this.state.web3Provider?"true":"false"]})]})}}]),e}(r.a.Component);var D=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)("header",{className:"App-header",children:[Object(S.jsx)("img",{src:i,className:"App-logo",alt:"logo"}),Object(S.jsxs)("p",{children:["Edit ",Object(S.jsx)("code",{children:"src/App.tsx"})," and save to reload."]}),Object(S.jsx)(A,{}),Object(S.jsx)("button",{onClick:function(){return E.mintAndSell()},children:" rarible"}),Object(S.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]})})},_=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,2126)).then((function(n){var e=n.getCLS,o=n.getFID,r=n.getFCP,c=n.getLCP,a=n.getTTFB;e(t),o(t),r(t),c(t),a(t)}))};a.a.createRoot(document.getElementById("root")).render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(D,{})})),_()},662:function(t,n){},682:function(t,n){},824:function(t,n,e){},825:function(t,n,e){},834:function(t,n){},872:function(t,n){},874:function(t,n){},893:function(t,n){},895:function(t,n){},907:function(t,n){},908:function(t,n){},930:function(t,n){},937:function(t,n){},939:function(t,n){}},[[2119,1,2]]]);
//# sourceMappingURL=main.1bcd39e9.chunk.js.map